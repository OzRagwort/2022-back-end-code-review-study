# 알린의 체스 미션 리뷰 정리

> # 피드백을 주고받은 PR
> - [[1, 2, 3단계 - 체스] 알린(장원영) 미션 제출합니다. #284](https://github.com/woowacourse/java-chess/pull/284)

# 피드백 정리

## 1. 메서드는 다르지만 똑같은 동작을 하는 메서드가 있다면?

- [InputView에 같은 행위를 하는 메서드가 2개가 있어요. 어떻게 해야할까요?](https://github.com/woowacourse/java-chess/pull/284#discussion_r836382240)
    - 이름을 통해 구체적인 의도를 드러내는 것도 좋지만 이름은 결국 해당 메서드의 행위를 드러내야합니다. -리뷰어님
    - `requestStartOrEnd()`와 `requestCommand()`는 이름은 다르지만 결국 명령어를 입력받아서 반환하는 메서드이다.
    - `requestStartOrEnd()` 메서드를 사용하는 곳에서 `requestCommand()`를 사용하도록 바꾸고 `requestStartOrEnd()`를 제거했다.

## 2. getter로 체스판의 상태를 반환할 때 늘 새로운 체스판을 만들어 반환하는 이유

- [Ready에서 보드를 가져오는 `getBoard()`메서드는 매번 새로운 객체로 넘겨주는데 이유가 있나요?](https://github.com/woowacourse/java-chess/pull/284#discussion_r836412928)
    - Board가 `move()`메서드로 기물을 이동시킬 수 있기 때문에 그대로 board를 외부로 반환하면 외부에서 의도하지 않은 수정이 있을 수 있다고 생각했다.
    - 현재 기물 상태를 가지는 새로운 보드를 만들면 수정이 되더라도 실제 게임이 진행되는 board는 수정되지 않는다.

## 3. 내부에서만 사용될 메서드를 인터페이스에 적어야할까?

- [인터페이스에 정의된 메서드는 곧 외부에 오픈할 메서드라고 볼 수 있어요. 외부에서 사용하지 않는 메서드는 어떻게 하는게 좋을까요?](https://github.com/woowacourse/java-chess/pull/284#discussion_r836421730)
    - 클래스 내부에서만 사용하는 메서드는 인터페이스에 있을 필요가 없다.
    - 인터페이스에 정의된 메서드는 public으로 공개가 된다고 생각하면 된다.
    - MovePattern에 `getDirections()`는 외부에서는 사용하지 않는 메서드이다. 따라서 인터페이스에서는 삭제하고 하위 추상클래스에서 정의하는 것으로 수정했다.
    - MovePattern -> AbstractMovePattern -> AbstractXXXMovePattern -> 기물MovePattern 구현체와 같은 구조를 가지도록 수정했다.

## 4. Enum을 비교할 때는 왜 equals가 아닌 ==으로 비교해야할까?

- [Enum의 경우 모든 객체가 상수, 즉 유일한 객체입니다. 그래서 동등성 비교를 할 때는 equals도 좋지만 ==으로 처리하는 것이 좋아보여요!](https://github.com/woowacourse/java-chess/pull/284#discussion_r836427105)
    - Enum은 모든 객체가 상수이기 때문에 equals보다 ==를 쓰는게 좋다고한다.
    - equals도 제대로 동작하지만 equals과 ==은 null을 취급할 때 차이점이 있다.
    - `String input = null; input.equals(?);`를 하면 `NullPointerException`이 발생한다.
    - 하지만 ==은 `NullPointerException`가 발생하지 않고 정상적으로 null을 비교한다.

### 기타 코멘트

- [Ready와 Running의 상태가 크게 다르지 않은 것 같아요. 어떤 의도로 Ready를 만들었을까요?](https://github.com/woowacourse/java-chess/pull/284#discussion_r836412677)
- [체스판에서 Position는 모두 64개입니다. 고정된 개수를 가진 position의 경우 캐싱을 적용해보는것도 좋을 것 같아요!](https://github.com/woowacourse/java-chess/pull/284#discussion_r836428171)
- [축약해서 사용하는 변수명이 있어요!](https://github.com/woowacourse/java-chess/pull/284#discussion_r836414181)
- [동작을 보면 `findX`보다는 `findByX`와 같은 이름이 적절해보여요!](https://github.com/woowacourse/java-chess/pull/284#discussion_r836431031)
- [변수 선언 시 왜 인터페이스가 아닌 추상 클래스로 선언되었을까요?](https://github.com/woowacourse/java-chess/pull/284#discussion_r836420905)
- [같은 역할과 책임을 가지는 클래스가 있다면 어떻게 해야할까요?](https://github.com/woowacourse/java-chess/pull/284#discussion_r836423333)
- [상태패턴에서 어느 패턴이 대부분의 메서드가 지원하지 않는다면 올바른 상속인지 의심해보자](https://github.com/woowacourse/java-chess/pull/284#discussion_r836426212)
- [필요없어보이는 클래스가 있어요!](https://github.com/woowacourse/java-chess/pull/284#discussion_r836428821)
- [MovePattern에서 `findDirection()`은 null을 반환하고 있어요. NPE가 발생할 가능성이 있는 것 같은데 개선해볼까요?](https://github.com/woowacourse/java-chess/pull/284#discussion_r836422645)

### 리펙터링 관련

- [Piece에서 색상만 관리하는 것이 아니라 타입을 같이 관리하면 어떨까요?](https://github.com/woowacourse/java-chess/pull/284#discussion_r836420176)
- [(Direction) `getBlackPawnDirections()`와 같은 메서드들은 Piece의 타입을 잘 관리하면 분리가 될 수 있을 것 같아요!](https://github.com/woowacourse/java-chess/pull/284#discussion_r836429405)
